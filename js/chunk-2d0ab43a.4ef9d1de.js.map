{"version":3,"sources":["webpack:///./src/views/User.vue?520e","webpack:///./src/components/UserProfileCard.vue?f1e0","webpack:///src/components/UserProfileCard.vue","webpack:///./src/components/UserProfileCard.vue?4e56","webpack:///./src/components/UserProfileCard.vue","webpack:///./src/components/UserFollowingsCard.vue?018f","webpack:///src/components/UserFollowingsCard.vue","webpack:///./src/components/UserFollowingsCard.vue?1afc","webpack:///./src/components/UserFollowingsCard.vue","webpack:///./src/components/UserFollowersCard.vue?50a4","webpack:///src/components/UserFollowersCard.vue","webpack:///./src/components/UserFollowersCard.vue?35dd","webpack:///./src/components/UserFollowersCard.vue","webpack:///./src/components/UserCommentsCard.vue?e120","webpack:///src/components/UserCommentsCard.vue","webpack:///./src/components/UserCommentsCard.vue?438b","webpack:///./src/components/UserCommentsCard.vue","webpack:///./src/components/UserFavoritedRestaurantsCard.vue?e661","webpack:///src/components/UserFavoritedRestaurantsCard.vue","webpack:///./src/components/UserFavoritedRestaurantsCard.vue?042f","webpack:///./src/components/UserFavoritedRestaurantsCard.vue","webpack:///src/views/User.vue","webpack:///./src/views/User.vue?c7ea","webpack:///./src/views/User.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","userId","name","email","userImage","commentsCount","favoritedRestaurantsCount","followersCount","followingsCount","currentUser","isFollowed","on","afterAddFollowed","afterDeleteFollowed","followings","followers","comments","favoritedRestaurants","staticRenderFns","_v","_s","id","params","$event","stopPropagation","preventDefault","deleteFollowed","addFollowed","props","type","Number","required","String","Object","Boolean","methods","$emit","component","_l","following","key","image","Array","follower","comment","RestaurantId","Restaurant","favoritedRestaurant","components","UserProfileCard","UserFollowingCard","UserFollowersCard","UserCommentsCard","UserFavoritedRestaurantsCard","Spinner","data","isLoading","beforeRouteUpdate","fetchUserData","console","log","to","from","next","created","computed"],"mappings":"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","file":"js/chunk-2d0ab43a.4ef9d1de.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isLoading)?_c('Spinner'):_c('div',{staticClass:\"album py-5 bg-light\"},[_c('div',{staticClass:\"container\"},[_c('UserProfileCard',{attrs:{\"user-id\":_vm.userId,\"name\":_vm.name,\"email\":_vm.email,\"user-image\":_vm.userImage,\"comments-count\":_vm.commentsCount,\"favorited-restaurants-count\":_vm.favoritedRestaurantsCount,\"followers-count\":_vm.followersCount,\"followings-count\":_vm.followingsCount,\"current-user\":_vm.currentUser,\"is-followed\":_vm.isFollowed},on:{\"after-add-followed\":_vm.afterAddFollowed,\"after-delete-followed\":_vm.afterDeleteFollowed}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-4\"},[_c('UserFollowingCard',{attrs:{\"followings\":_vm.followings,\"followings-count\":_vm.followingsCount}}),_c('br'),_c('UserFollowersCard',{attrs:{\"followers\":_vm.followers,\"followers-count\":_vm.followersCount}})],1),_c('div',{staticClass:\"col-md-8\"},[_c('UserCommentsCard',{attrs:{\"comments\":_vm.comments,\"comments-count\":_vm.commentsCount}}),_c('br'),_c('UserFavoritedRestaurantsCard',{attrs:{\"favorited-restaurants\":_vm.favoritedRestaurants,\"favorited-restaurants-count\":_vm.favoritedRestaurantsCount}})],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card mb-3\"},[_c('div',{staticClass:\"row no-gutters\"},[_c('div',{staticClass:\"col-md-4\"},[_c('img',{attrs:{\"src\":_vm.userImage,\"width\":\"300px\",\"height\":\"300px\"}})]),_c('div',{staticClass:\"col-md-8\"},[_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(_vm._s(_vm.name))]),_c('p',{staticClass:\"card-text\"},[_vm._v(_vm._s(_vm.email))]),_c('ul',{staticClass:\"list-unstyled list-inline\"},[_c('li',[_c('strong',[_vm._v(_vm._s(_vm.commentsCount))]),_vm._v(\" 已評論餐廳 \")]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.favoritedRestaurantsCount))]),_vm._v(\" 收藏的餐廳 \")]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.followingsCount))]),_vm._v(\" followings (已追蹤) \")]),_c('li',[_c('strong',[_vm._v(_vm._s(_vm.followersCount))]),_vm._v(\" followers (追隨者) \")])]),_c('p',[(_vm.currentUser.id == _vm.userId)?_c('router-link',{attrs:{\"to\":{ name: 'user-edit', params: { id: _vm.currentUser.id } }}},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\" edit \")])]):(_vm.currentUser.id != _vm.userId && _vm.isFollowed)?_c('button',{staticClass:\"btn btn-danger\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.deleteFollowed(_vm.userId)}}},[_vm._v(\" 取消追蹤 \")]):_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.addFollowed(_vm.userId)}}},[_vm._v(\" 追蹤 \")])],1)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"card mb-3\">\r\n    <div class=\"row no-gutters\">\r\n      <div class=\"col-md-4\">\r\n        <img :src=\"userImage\" width=\"300px\" height=\"300px\" />\r\n      </div>\r\n      <div class=\"col-md-8\">\r\n        <div class=\"card-body\">\r\n          <h5 class=\"card-title\">{{ name }}</h5>\r\n          <p class=\"card-text\">{{ email }}</p>\r\n          <ul class=\"list-unstyled list-inline\">\r\n            <li>\r\n              <strong>{{ commentsCount }}</strong> 已評論餐廳\r\n            </li>\r\n            <li>\r\n              <strong>{{ favoritedRestaurantsCount }}</strong> 收藏的餐廳\r\n            </li>\r\n            <li>\r\n              <strong>{{ followingsCount }}</strong> followings (已追蹤)\r\n            </li>\r\n            <li>\r\n              <strong>{{ followersCount }}</strong> followers (追隨者)\r\n            </li>\r\n          </ul>\r\n          <p>\r\n            <router-link\r\n              :to=\"{ name: 'user-edit', params: { id: currentUser.id } }\"\r\n              v-if=\"currentUser.id == userId\"\r\n              ><button type=\"submit\" class=\"btn btn-primary\">\r\n                edit\r\n              </button></router-link\r\n            >\r\n            <button\r\n              type=\"submit\"\r\n              v-else-if=\"currentUser.id != userId && isFollowed\"\r\n              @click.stop.prevent=\"deleteFollowed(userId)\"\r\n              class=\"btn btn-danger\"\r\n            >\r\n              取消追蹤\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              v-else\r\n              @click.stop.prevent=\"addFollowed(userId)\"\r\n              class=\"btn btn-primary\"\r\n            >\r\n              追蹤\r\n            </button>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    userId: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    name: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    email: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    userImage: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    commentsCount: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    favoritedRestaurantsCount: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    followersCount: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    followingsCount: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n    currentUser: {\r\n      type: Object,\r\n    },\r\n    isFollowed: {\r\n      type: Boolean,\r\n    },\r\n  },\r\n  methods: {\r\n    addFollowed(userId) {\r\n      this.$emit(\"after-add-followed\", userId);\r\n    },\r\n    deleteFollowed(userId) {\r\n      this.$emit(\"after-delete-followed\", userId);\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfileCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserProfileCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserProfileCard.vue?vue&type=template&id=15b273f7&\"\nimport script from \"./UserProfileCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserProfileCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.followingsCount))]),_vm._v(\" followings (已追蹤) \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.followings),function(following){return _c('router-link',{key:following.id,staticClass:\"mr-2\",attrs:{\"to\":{ name: 'user', params: { id: following.id } }}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":following.image,\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"card\">\r\n    <div class=\"card-header\">\r\n      <strong>{{ followingsCount }}</strong> followings (已追蹤)\r\n    </div>\r\n    <div class=\"card-body\">\r\n      <router-link\r\n        class=\"mr-2\"\r\n        v-for=\"following in followings\"\r\n        :key=\"following.id\"\r\n        :to=\"{ name: 'user', params: { id: following.id } }\"\r\n      >\r\n        <img :src=\"following.image\" width=\"60\" height=\"60\" class=\"avatar\" />\r\n      </router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    followings: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    followingsCount: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowingsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowingsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollowingsCard.vue?vue&type=template&id=25c3474b&\"\nimport script from \"./UserFollowingsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollowingsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.followersCount))]),_vm._v(\" followers (追隨者) \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.followers),function(follower){return _c('router-link',{key:follower.id,staticClass:\"mr-2\",attrs:{\"to\":{ name: 'user', params: { id: follower.id } }}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":follower.image,\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"card\">\r\n    <div class=\"card-header\">\r\n      <strong>{{ followersCount }}</strong> followers (追隨者)\r\n    </div>\r\n    <div class=\"card-body\">\r\n      <router-link\r\n        class=\"mr-2\"\r\n        v-for=\"follower in followers\"\r\n        :key=\"follower.id\"\r\n        :to=\"{ name: 'user', params: { id: follower.id } }\"\r\n      >\r\n        <img :src=\"follower.image\" width=\"60\" height=\"60\" class=\"avatar\" />\r\n      </router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    followers: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    followersCount: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowersCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFollowersCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFollowersCard.vue?vue&type=template&id=38016374&\"\nimport script from \"./UserFollowersCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFollowersCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.commentsCount))]),_vm._v(\" 已評論餐廳 \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.comments),function(comment){return _c('router-link',{key:comment.id,staticClass:\"mr-2\",attrs:{\"to\":{ name: 'restaurant', params: { id: comment.RestaurantId } }}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":comment.Restaurant.image,\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"card\">\r\n    <div class=\"card-header\">\r\n      <strong>{{ commentsCount }}</strong> 已評論餐廳\r\n    </div>\r\n    <div class=\"card-body\">\r\n      <router-link\r\n        class=\"mr-2\"\r\n        v-for=\"comment in comments\"\r\n        :key=\"comment.id\"\r\n        :to=\"{ name: 'restaurant', params: { id: comment.RestaurantId } }\"\r\n      >\r\n        <img\r\n          :src=\"comment.Restaurant.image\"\r\n          width=\"60\"\r\n          height=\"60\"\r\n          class=\"avatar\"\r\n        />\r\n      </router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    comments: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    commentsCount: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCommentsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserCommentsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserCommentsCard.vue?vue&type=template&id=0f8994b1&\"\nimport script from \"./UserCommentsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserCommentsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('strong',[_vm._v(_vm._s(_vm.favoritedRestaurantsCount))]),_vm._v(\" 收藏的餐廳 \")]),_c('div',{staticClass:\"card-body\"},_vm._l((_vm.favoritedRestaurants),function(favoritedRestaurant){return _c('router-link',{key:favoritedRestaurant.id,staticClass:\"mr-2\",attrs:{\"to\":{ name: 'restaurant', params: { id: favoritedRestaurant.id } }}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":favoritedRestaurant.image,\"width\":\"60\",\"height\":\"60\"}})])}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"card\">\r\n    <div class=\"card-header\">\r\n      <strong>{{ favoritedRestaurantsCount }}</strong> 收藏的餐廳\r\n    </div>\r\n    <div class=\"card-body\">\r\n      <router-link\r\n        class=\"mr-2\"\r\n        v-for=\"favoritedRestaurant in favoritedRestaurants\"\r\n        :key=\"favoritedRestaurant.id\"\r\n        :to=\"{ name: 'restaurant', params: { id: favoritedRestaurant.id } }\"\r\n      >\r\n        <img\r\n          :src=\"favoritedRestaurant.image\"\r\n          width=\"60\"\r\n          height=\"60\"\r\n          class=\"avatar\"\r\n        />\r\n      </router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    favoritedRestaurants: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    favoritedRestaurantsCount: {\r\n      type: Number,\r\n      required: true,\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserFavoritedRestaurantsCard.vue?vue&type=template&id=2a429c2e&\"\nimport script from \"./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"\nexport * from \"./UserFavoritedRestaurantsCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <Spinner v-if=\"isLoading\" />\r\n  <div class=\"album py-5 bg-light\" v-else>\r\n    <div class=\"container\">\r\n      <!-- UserProfileCard -->\r\n      <UserProfileCard\r\n        :user-id=\"userId\"\r\n        :name=\"name\"\r\n        :email=\"email\"\r\n        :user-image=\"userImage\"\r\n        :comments-count=\"commentsCount\"\r\n        :favorited-restaurants-count=\"favoritedRestaurantsCount\"\r\n        :followers-count=\"followersCount\"\r\n        :followings-count=\"followingsCount\"\r\n        :current-user=\"currentUser\"\r\n        :is-followed=\"isFollowed\"\r\n        @after-add-followed=\"afterAddFollowed\"\r\n        @after-delete-followed=\"afterDeleteFollowed\"\r\n      />\r\n\r\n      <div class=\"row\">\r\n        <div class=\"col-md-4\">\r\n          <!-- UserFollowingsCard -->\r\n          <UserFollowingCard\r\n            :followings=\"followings\"\r\n            :followings-count=\"followingsCount\"\r\n          />\r\n          <br />\r\n          <!-- UserFollowersCard -->\r\n          <UserFollowersCard\r\n            :followers=\"followers\"\r\n            :followers-count=\"followersCount\"\r\n          />\r\n        </div>\r\n        <div class=\"col-md-8\">\r\n          <!-- UserCommentsCard -->\r\n          <UserCommentsCard\r\n            :comments=\"comments\"\r\n            :comments-count=\"commentsCount\"\r\n          />\r\n          <br />\r\n          <!-- UserFavoritedRestaurantsCard -->\r\n          <UserFavoritedRestaurantsCard\r\n            :favorited-restaurants=\"favoritedRestaurants\"\r\n            :favorited-restaurants-count=\"favoritedRestaurantsCount\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UserProfileCard from \"../components/UserProfileCard.vue\";\r\nimport UserFollowingCard from \"../components/UserFollowingsCard.vue\";\r\nimport UserFollowersCard from \"../components/UserFollowersCard\";\r\nimport UserCommentsCard from \"../components/UserCommentsCard\";\r\nimport UserFavoritedRestaurantsCard from \"../components/UserFavoritedRestaurantsCard\";\r\nimport Spinner from \"../components/Spinner.vue\";\r\nimport usersAPI from \"../apis/users\";\r\nimport { Toast } from \"../utils/helpers\";\r\nimport { mapState } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"User\",\r\n  components: {\r\n    UserProfileCard,\r\n    UserFollowingCard,\r\n    UserFollowersCard,\r\n    UserCommentsCard,\r\n    UserFavoritedRestaurantsCard,\r\n    Spinner,\r\n  },\r\n  data() {\r\n    return {\r\n      userId: -1,\r\n      name: \"\",\r\n      email: \"\",\r\n      userImage: \"\",\r\n      isFollowed: false,\r\n      comments: [],\r\n      commentsCount: -1,\r\n      favoritedRestaurants: [],\r\n      favoritedRestaurantsCount: -1,\r\n      followers: [],\r\n      followersCount: -1,\r\n      followings: [],\r\n      followingsCount: -1,\r\n      // 增加 is loading 狀態，以免資料未抓入就顯示畫面，影響 UX\r\n      isLoading: true,\r\n    };\r\n  },\r\n  beforeRouteUpdate(to, from, next) {\r\n    const { id } = to.params;\r\n    this.fetchUserData(id);\r\n    console.log(to, from);\r\n    next();\r\n  },\r\n  methods: {\r\n    async fetchUserData(userId) {\r\n      try {\r\n        this.isLoading = true;\r\n        // 後端設定問題：傳入 userId 不存在時，不會跳錯誤訊息....\r\n        // 沒辦法用 Data 抓錯誤 message\r\n        const { data } = await usersAPI.get({ userId });\r\n\r\n        this.userId = data.profile.id;\r\n        this.name = data.profile.name;\r\n        this.email = data.profile.email;\r\n        this.userImage = data.profile.image;\r\n        this.isFollowed = data.isFollowed;\r\n        this.comments = data.profile.Comments;\r\n        this.commentsCount = data.profile.Comments.length;\r\n        this.favoritedRestaurants = data.profile.FavoritedRestaurants;\r\n        this.favoritedRestaurantsCount =\r\n          data.profile.FavoritedRestaurants.length;\r\n        this.followers = data.profile.Followers;\r\n        this.followersCount = data.profile.Followers.length;\r\n        this.followings = data.profile.Followings;\r\n        this.followingsCount = data.profile.Followings.length;\r\n\r\n        this.isLoading = false;\r\n      } catch (error) {\r\n        this.isLoading = false;\r\n        console.log(error);\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法取得使用者資料，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n    async afterAddFollowed(userId) {\r\n      try {\r\n        const { data } = await usersAPI.addFollowing({ userId });\r\n\r\n        if (data.status !== \"success\") {\r\n          throw new Error(data.message);\r\n        }\r\n\r\n        this.followersCount = this.followersCount + 1;\r\n        this.isFollowed = true;\r\n        this.fetchUserData(userId);\r\n      } catch (error) {\r\n        console.log(\"error\", error);\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法加入追蹤，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n    async afterDeleteFollowed(userId) {\r\n      try {\r\n        const { data } = await usersAPI.deleteFollowing({ userId });\r\n        if (data.status !== \"success\") {\r\n          throw new Error(data.message);\r\n        }\r\n\r\n        this.followersCount = this.followersCount - 1;\r\n        this.isFollowed = false;\r\n        this.fetchUserData(userId);\r\n      } catch (error) {\r\n        console.log(\"error\", error);\r\n        Toast.fire({\r\n          icon: \"error\",\r\n          title: \"無法取消追蹤，請稍後再試\",\r\n        });\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    const { id: userId } = this.$route.params;\r\n    this.fetchUserData(userId);\r\n  },\r\n  computed: {\r\n    ...mapState([\"currentUser\"]),\r\n  },\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=267da3b6&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}